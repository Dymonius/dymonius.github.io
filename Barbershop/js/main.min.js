"use strict";var nav=document.querySelector(".nav"),navToggle=nav.querySelector(".nav__toggle");nav.classList.remove("nav--nojs"),navToggle.addEventListener("click",function(){nav.classList.contains("nav--closed")?(nav.classList.remove("nav--closed"),nav.classList.add("nav--opened")):(nav.classList.remove("nav--opened"),nav.classList.add("nav--closed"))});var popUp=document.querySelector(".popup"),btnOpen=document.querySelector(".nav__user-link"),btnClose=document.querySelector(".login-form__btn--close"),form=popUp.querySelector(".popup__form"),login=form.querySelector(".popup__login"),password=form.querySelector(".popup__password"),storage=localStorage.getItem("login");btnOpen.addEventListener("click",function(e){e.preventDefault(),popUp.classList.toggle("popup--opened"),nav.classList.remove("nav--opened"),nav.classList.add("nav--closed"),storage?(login.value=storage,password.focus()):login.focus()}),btnClose.addEventListener("click",function(){popUp.classList.contains("popup--opened")&&popUp.classList.remove("popup--opened")}),window.addEventListener("keydown",function(e){27==e.keyCode&&popUp.classList.contains("popup--opened")&&popUp.classList.remove("popup--opened")}),form.addEventListener("submit",function(e){login.value&&password.value?localStorage.setItem("login",login.value):e.preventDefault()});